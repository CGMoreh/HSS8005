<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Chris Moreh">
<title>HSS8005  - Week 1 Computer Lab Worksheet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<link href="../../materials/handouts/handouts-frame_w01.html" rel="next">
<link href="../../materials/slides-frame/slides-frame_w01.html" rel="prev">
<link href="../../files/img/ncl_coa_hss8005.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/iconify-1.0.0-beta.2/iconify-icon.min.js"></script><script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">HSS8005 <iconify-icon inline="" icon="line-md:plus"></iconify-icon></span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../plan8.html">
 <span class="menu-text">Module plan</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources/index.html">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../materials/index.html" aria-current="page">
 <span class="menu-text">Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../data/index.html">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../assessment/index.html">
 <span class="menu-text">Assessment</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://canvas.ncl.ac.uk/login/">
 <span class="menu-text"><iconify-icon inline="" icon="arcticons:canvasstudent" style="font-size: l;"></iconify-icon> Canvas</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Week 1 Computer Lab Worksheet</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/index.html" class="sidebar-item-text sidebar-link">Weekly materials</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w01.html" class="sidebar-item-text sidebar-link">Week 1</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/slides-frame/slides-frame_w01.html" class="sidebar-item-text sidebar-link">Presentation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/worksheets/worksheets_w01.html" class="sidebar-item-text sidebar-link active">Worksheet</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w01.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w02.html" class="sidebar-item-text sidebar-link">Week 2</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/slides-frame/slides-frame_w02.html" class="sidebar-item-text sidebar-link">Presentation</a>
  </div>
</li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w02.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w03.html" class="sidebar-item-text sidebar-link">Week 3</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w03.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w04.html" class="sidebar-item-text sidebar-link">Week 4</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w04.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w05.html" class="sidebar-item-text sidebar-link">Week 5</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w05.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w06.html" class="sidebar-item-text sidebar-link">Week 6</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w06.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w07.html" class="sidebar-item-text sidebar-link">Week 7</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w07.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/info/info_w08.html" class="sidebar-item-text sidebar-link">Week 8</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  Notes
  </li>
          <li class="sidebar-item">
  Presentation
  </li>
          <li class="sidebar-item">
  Worksheet
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/handouts/handouts-frame_w08.html" class="sidebar-item-text sidebar-link">Handout</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
    <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#aims" id="toc-aims" class="nav-link active" data-scroll-target="#aims">Aims</a></li>
  <li>
<a href="#r-and-rstudio" id="toc-r-and-rstudio" class="nav-link" data-scroll-target="#r-and-rstudio">R and RStudio</a>
  <ul class="collapse">
<li><a href="#general-settings" id="toc-general-settings" class="nav-link" data-scroll-target="#general-settings">General settings</a></li>
  </ul>
</li>
  <li><a href="#task-1-use-r-as-a-simple-calculator" id="toc-task-1-use-r-as-a-simple-calculator" class="nav-link" data-scroll-target="#task-1-use-r-as-a-simple-calculator">Task 1: Use R as a simple calculator</a></li>
  <li><a href="#scripts-markdown-documents-and-projects" id="toc-scripts-markdown-documents-and-projects" class="nav-link" data-scroll-target="#scripts-markdown-documents-and-projects">Scripts, markdown documents and projects</a></li>
  <li><a href="#task-2-set-up-a-new-r-project-with-an-.r-script-and-a-.qmd-document-included" id="toc-task-2-set-up-a-new-r-project-with-an-.r-script-and-a-.qmd-document-included" class="nav-link" data-scroll-target="#task-2-set-up-a-new-r-project-with-an-.r-script-and-a-.qmd-document-included">Task 2: Set up a new <strong>R Project</strong>, with an <strong>.R</strong> script and a <strong>.qmd</strong> document included:</a></li>
  <li><a href="#data-types-and-structures" id="toc-data-types-and-structures" class="nav-link" data-scroll-target="#data-types-and-structures">Data types and structures</a></li>
  <li><a href="#task-3-vector-operations-in-the-r-script" id="toc-task-3-vector-operations-in-the-r-script" class="nav-link" data-scroll-target="#task-3-vector-operations-in-the-r-script">Task 3: Vector operations in the R script</a></li>
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames">Data frames</a></li>
  <li>
<a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a>
  <ul class="collapse">
<li><a href="#advanced-user-exercise-leap-year-functions" id="toc-advanced-user-exercise-leap-year-functions" class="nav-link" data-scroll-target="#advanced-user-exercise-leap-year-functions">Advanced user exercise: leap year functions</a></li>
  </ul>
</li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  <li>
<a href="#about-the-tidyverse" id="toc-about-the-tidyverse" class="nav-link" data-scroll-target="#about-the-tidyverse">About the <code>Tidyverse</code></a>
  <ul class="collapse">
<li><a href="#data-frames-and-tibbles" id="toc-data-frames-and-tibbles" class="nav-link" data-scroll-target="#data-frames-and-tibbles">Data frames and ‘tibbles’</a></li>
  <li><a href="#selected-dplyr-functions" id="toc-selected-dplyr-functions" class="nav-link" data-scroll-target="#selected-dplyr-functions">Selected <code>dplyr</code> functions</a></li>
  <li><a href="#the-forward-pipe-workflow" id="toc-the-forward-pipe-workflow" class="nav-link" data-scroll-target="#the-forward-pipe-workflow">The forward-pipe (<code>%&gt;%</code>/<code>|&gt;</code>) workflow</a></li>
  </ul>
</li>
  <li><a href="#task-4-data-frame-operations-in-a-quarto-document" id="toc-task-4-data-frame-operations-in-a-quarto-document" class="nav-link" data-scroll-target="#task-4-data-frame-operations-in-a-quarto-document">Task 4: Data frame operations in a Quarto document</a></li>
  <li><a href="#solutions-to-the-advanced-exercise-leap-year-functions" id="toc-solutions-to-the-advanced-exercise-leap-year-functions" class="nav-link" data-scroll-target="#solutions-to-the-advanced-exercise-leap-year-functions">Solutions to the advanced exercise: leap year functions</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">Week 1 Computer Lab Worksheet</h1>
<p class="subtitle lead">Introduction to R, RStudio and Quarto</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Chris Moreh </p>
          </div>
  </div>
    
  
    
  </div>
  

</header><section id="aims" class="level2"><h2 class="anchored" data-anchor-id="aims">Aims</h2>
<p>This lab is an introduction to <strong>R</strong> and <strong>RStudio</strong> for the purposes of this module. It is expected that those new to <strong>R</strong> will complete the <a href="https://datacarpentry.org/r-socialsci/"><strong>R for Social Scientists</strong></a> online training course on their own (estimated to take around 5-6 hours), as well as read through the assigned chapters from the <a href="https://r4ds.hadley.nz/"><strong>R4DS</strong></a> textbook. The aims of this session are more limited than the contents of those resources, while at the same time offering something additional to those already familiar with basic operations in <strong>R</strong>.</p>
<p>By the end of the session, you will:</p>
<ul>
<li>understand how to use the most important panels in the <strong>RStudio</strong> interface</li>
<li>create an RStudio Project to store your work throughout the course</li>
<li>begin using <strong>R</strong> scripts (.R) and <strong>Quarto</strong> notebooks (.qmd) to record and document your coding progress</li>
<li>understand data types and basic operations in the <code>R</code> language</li>
<li>understand the principles behind <em>functions</em>
</li>
<li>know how to install, load and use functions from user-written packages</li>
<li>gain familiarity with some useful functions from packages included in the <a href="https://tidyverse.tidyverse.org">tidyverse</a> ecosystem</li>
</ul></section><section id="r-and-rstudio" class="level2"><h2 class="anchored" data-anchor-id="r-and-rstudio">R and RStudio</h2>
<p>If you are working on university desktops in the IT labs, recent versions of both <strong>R</strong> and <strong>RStudio</strong> will already be installed. To install them on your personal computers, <a href="https://posit.co/download/rstudio-desktop/">follow the steps outlined here</a> based on your operating system.</p>
<p>Although you will likely only interact directly with <strong>RStudio</strong>, <strong>R</strong> needs to be installed first. Think of the relationship between the two as that between the <em>engine</em> of a car (R) and the <em>dashboard</em> of a car (RStudio); or, imagine <a href="https://autonexa.com/wp-content/uploads/2018/11/chassis.jpg">driving this (R)</a> versus <a href="https://www.designnews.com/sites/designnews.com/files/styles/article_featured_standard/public/pillar-to-pillar.jpg?itok=x_EBFuXk">this (RStudio)</a>.</p>
<p>Your first task is to take <strong>RStudio</strong> for a spin and get to know some of its more commonly used panes. The four main panes are:</p>
<p><img src="../../files/img/console_etc.png" class="img-fluid"></p>
<p><strong>The R Console Pane</strong></p>
<p>The R Console, by default the left or lower-left pane in R Studio, is the home of the R “engine”. This is where the commands are actually run and non-graphic outputs and error/warning messages appear. The <strong>Console</strong> is the direct interface to the <code>R</code> software itself; it’s what we get if instead of <code>RStudio</code> we open the <code>R</code> software: a direct interface to the <code>R</code> programming language, where we can type commands and <strong>where results/messages are printed</strong>.</p>
<p>You can directly enter and run commands in the R Console, but realize that these commands are not saved as they are when running commands from a script. For this reason, we should not use the <strong>Console</strong> pane directly too much. For typing commands that we want <code>R</code> to execute, we should instead use an <code>R</code> script file, where everything we type can be saved for later and complex analyses can be built up.</p>
<p><strong>The Source Pane</strong></p>
<p>This pane, by default in the upper-left, is a space to work with scripts and other text files. This pane is also where datasets (data frames) open up for viewing.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Note</strong></p>
<p>If your RStudio displays only one pane on the left, it is because you have no scripts open yet. We can open an existing one or create a new one. We’ ll do that a bit later.</p>
</div>
</div>
<p><strong>The Environment Pane</strong></p>
<p>This pane, by default in the upper-right, is most often used to see brief summaries of “objects” that are available in an active session. Datasets loaded for analysis would appear here</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Note</strong></p>
<p>If your Environment is empty, it means that you don’t have any “objects” loaded or created yet. We will be creating some objects later and we will also import an example dataset.</p>
</div>
</div>
<p><strong>Files, Plots, Packages, Help, etc.</strong> The lower-right pane includes several tabs including plots (display of graphics including maps), help, a file library, and available R packages (including installation/update options).</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Tip</strong></p>
<p>You can arrange the panes in various ways, depending on your preferences, using <em>Tools</em> &gt; <em>Global Options</em> in the top menu. So the arrangement of panes may look different on different computers.</p>
</div>
</div>
<section id="general-settings" class="level3"><h3 class="anchored" data-anchor-id="general-settings">General settings</h3>
<p>You can personalise the look and feel of your RStudio setup in various ways using <em>Tools</em> &gt; <em>Global Options</em> from the top menu, but setting some options as default from the very start is highly recommended. You can see these in the pictures below:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="../../files/img/glob_opts1.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="../../files/img/glob_opts2.png" class="img-fluid"></p>
</div>
</div>
</div>
<ul>
<li>The most important setting in the picture on the left is the one to restore .RData at startup and saving the workspace as .RData on exit. Make sure these are un-ticked and set to ‘Never’, respectively, as shown in the picture. It’s always safer to start each RStudio session in a clean state, without anything automatically pre-loaded from a previos session. That could lead to serious and hard to trace complications.</li>
<li>In the picture on the right, you have the option to select that the new native pipe operator (we’ll talk about it later!) be inserted using the <code>Ctrl</code>+<code>Shift</code>+<code>M</code> keyboard shortcut instead of the older version of the pipe (|&gt;).</li>
</ul>
<p>These settings will make more sense later, but it’s a good idea to have them sorted at the very beginning.</p>
</section></section><section id="task-1-use-r-as-a-simple-calculator" class="level2 task"><h2 class="anchored" data-anchor-id="task-1-use-r-as-a-simple-calculator">Task 1: Use R as a simple calculator</h2>
<p>The most elementary yet still handy task you can use <code>R</code> for is to perform basic arithmetic operations. This is useful for getting a first experience <strong>doing</strong> things in the <code>R</code> language. Let’s have a look at a few operations using the <strong>Console</strong> directly. Let’s say we want to know the result of adding up three numbers: 1, 3 and 5. In the Console pane, type the command below and then click Enter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will print out the result (9) in the Console:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<p>The <code>[1]</code> in the result is just the line number; in this case, our result only consists of a single line.</p>
<p>We can also save the result of this operation as an object, so we can use it for further operations. We create objects by using the so-called assignment operator consisting of the characters <code>&lt;-</code>. A command involving <code>&lt;-</code> can be read as “assign the value of the result from the operation on the right hand side (some expression) to the object on the left hand side (short name of object, single word, with no spaces)”. For example, let’s save our result in an object called “nine”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>nine <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that there is no output printed in the Console this time. But there are also no error messages, so the operation must have run without problems. Instead, if we look at the Environment pane, we notice that it is no longer empty, but contains an object called “nine” that stores the value “9” in it. We can now use this object for other operations, such as:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>nine <span class="sc">-</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>nine <span class="sc">+</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>nine <span class="sc">/</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>nine <span class="sc">*</span> <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 81</code></pre>
</div>
</div>
<p>We see the results of these operations printed out in the Console.</p>
<p>We can also check results of so-called <strong>relational</strong> operations. There are several <em>relational operators</em> that allow us to compare objects in R. The most useful of these are the following:</p>
<ul>
<li>
<code>&gt;</code> greater than, <code>&gt;=</code> greater than or equal to</li>
<li>
<code>&lt;</code> less than, <code>&lt;=</code> less than or equal to</li>
<li>
<code>==</code> equal to</li>
<li>
<code>!=</code> not equal to</li>
</ul>
<p>When we use these to compare two objects in R, we end us with a <strong>logical</strong> object.</p>
<p>For example, let’s check whether 9 is greater than 5, and whether it is lower than 8:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="dv">9</span> <span class="sc">&gt;</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="dv">9</span> <span class="sc">&lt;</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p><code>R</code> treats our inputs as statements that we are asking it to evaluate, and we get the answers “TRUE” and “FALSE”, respectively, as we would expect. Let’s now check whether our object “nine” is equal to the number 9. We may assume that we can achieve this by typing “nine = 9”, but let’s see what that results in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>nine <span class="ot">=</span> <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Did we get the result we expected? Nothing was printed in the output, so seemingly nothing happened… That’s because the “=” sign is also used as an assignment operator in <code>R</code>, just like “&lt;-”. So we basically assigned the value “9” to the object “nine” again. To use the <em>equal</em> sign as a logical operator we must type it twice (==). Let’s see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>nine <span class="sc">==</span> <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Now we get the answer “TRUE”, as expected.</p>
<p>This distinction between “=” and “==” is important to keep in mind. What would have happened if we had tried to test whether our object “nine” equals value “5” or not, and instead of the logical operator (==) we used the assignment operator (=)? Let’s see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>nine <span class="ot">=</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the Console we again see no results printed, but if we check our Environment, we see that the value of the object “nine” was changed to 5. So it can be a dangerous business. We’ll be using the “&lt;-” as assignment operator instead of “=” to avoid any confusion in this respect. The distinction between == and = will also emerge in other contexts later.</p>
<p>So, try out the following commands in turn now and check if the results are what you’d expect:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>nine <span class="sc">==</span> <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>nine <span class="sc">==</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>five <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>nine <span class="sc">==</span> five</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>five <span class="ot">=</span> nine</span>
<span id="cb26-2"><a href="#cb26-2"></a>nine <span class="sc">==</span> five</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>nine <span class="sc">+</span> five <span class="sc">&lt;=</span> <span class="dv">10</span> <span class="co"># lower than or equal to ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>The text following the hashtag (#) in the last line is a comment. If you’d like to comment on any code you write just add a hash (<code>#</code>) or series of hashes in front of it so that <code>R</code> knows it should not evaluate it as a command. This will be useful when writing your commands in an R script that you can save for later, rather than interacting with <code>R</code> live in the Console.</p>
</section><section id="scripts-markdown-documents-and-projects" class="level2"><h2 class="anchored" data-anchor-id="scripts-markdown-documents-and-projects">Scripts, markdown documents and projects</h2>
<p>Before learning to do more with <code>R</code>, let’s learn about some further file types and complete our RStudio setup. Writing brief commands that you want to test out in the Console is okay, but what you really want is to save your commands as part of a workflow in a dedicated file that you can reuse, extend and share with others. In every quantitative analysis, we need to ensure that each step in our analysis is traceable and reproducible. This is increasingly a professional standard expected of all data analysts in the social sciences. This means that we need to have an efficient way in which to share our <em>analysis code</em>, as well as our <strong>outputs</strong> and <strong>interpretations</strong> of our findings. <code>RStudio</code> has an efficient way of handling this requirement with the use of R <em>script</em> files and versions of the <em>Markdown</em> markup language that allow the efficient combining of plain text (as in the main body of an article) with analysis code and outputs produced in <code>R</code>. The table below lists the main characteristics of these file types:</p>
<table class="table">
<thead><tr class="header">
<th>Format</th>
<th>Extension</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>R Script</td>
<td><strong>.R</strong></td>
<td>Use an <em>R script</em> if you want to document a large amount of code used for a particular analysis project. Scripts should contain working R commands and human-readable comments explaining the code. Commands can be run line-by-line, or the whole R script can be run at once. For example, one can write an R script containing a few hundred or thousands of lines of code that gathers and prepares raw, unruly data for analysis; if this script can run without any errors, then it can be saved and sourced from within another script that contains code that undertakes the analysis using the cleansed dataset. Comments can be added by appending them with a hashtag (#).</td>
</tr>
<tr class="even">
<td><a href="https://rmarkdown.rstudio.com/">R Markdown</a></td>
<td><strong>.Rmd</strong></td>
<td>
<a href="https://www.markdownguide.org/">Markdown</a> is a simple markup language that allows the formatting of plain text documents. <a href="https://rmarkdown.rstudio.com/">R Markdown</a> is a version of this language written by the <strong>R Studio</strong> team, which also allows for <code>R</code> code to be included. Plain text documents having the <strong>.Rmd</strong> extension and containing <strong>R Markdown</strong>-specific code can be “knitted” (exported) directly into published output document formats such as HTML, PDF or Microsoft Word, which contain both normal text as well as tables and charts produced with the embedded <code>R</code> code. The code itself can also be printed to the output documents.</td>
</tr>
<tr class="odd">
<td><a href="https://quarto.org/">Quarto document</a></td>
<td><strong>.qmd</strong></td>
<td>Quarto is a newer version of <strong>R Markdown</strong> which allows better compatibility with other programming languages. It is a broader ecosystem design for academic publishing and communication (for example, the course website was built using quarto), but you will be using only Quarto documents in this module. There isn’t much difference between <strong>.Rmd</strong> and <strong>.qmd</strong> documents for their uses-cases on this module, so one could easily change and <strong>.Rmd</strong> extension to <strong>.qmd</strong> and still produce the same output. <strong>.qmd</strong> documents are “rendered” instead of “knitted”, but for RStudio users the underlying engine doing the conversion from Quarto/R Markdown to standard Markdown to output file (HTML, PDF, Word, etc.) is the same. Read more about Quarto document in the <a href="https://tellingstorieswithdata.com/22-rmarkdown.html"><strong>TSD</strong> textbook</a>.</td>
</tr>
</tbody>
</table>
<p>Creating new files can be done easily via the options <em>File &gt; New File &gt; </em> from the top RStudio menu.</p>
<p>The best way to use these files are as part of <strong>R project</strong> folders, which allow for cross-references to documents and datasets to be made relative to the path of the project folder root. This makes sure that no absolute paths to files (i.e.&nbsp;things like “C:/Documents/Chris/my_article/data_files/my_dataset.rds”) need to be used (instead, you would write something like “~/data_files/my_dataset.rds” if the “my_article” folder was set up as an R Project). This allows for the same code file to be run on another computer too without an error, ensuring a minimal expected level of reproducibility in your workflow.</p>
<p>Setting up an existing or a new folder as an R Project involves having a file with the extension <strong>.RProj</strong> saved in it. This can be done easily via the options <em>File &gt; New Project</em> from the top RStudio menu.</p>
<p><img src="../../files/img/new_files.png" class="img-fluid"></p>
</section><section id="task-2-set-up-a-new-r-project-with-an-.r-script-and-a-.qmd-document-included" class="level2 task"><h2 class="anchored" data-anchor-id="task-2-set-up-a-new-r-project-with-an-.r-script-and-a-.qmd-document-included">Task 2: Set up a new <strong>R Project</strong>, with an <strong>.R</strong> script and a <strong>.qmd</strong> document included:</h2>
<ol type="1">
<li>Create a new folder set up as an R project; call the folder “HSS8005_labs”; when done, you should have an empty folder with a file called “HSS8005_labs.Rproj” in it</li>
<li>Create a new R script (<code>.R</code>); once created, save it as “Lab_1.R” within the “HSS8005_labs” folder</li>
<li>Create a new Quarto document (<code>.qmd</code>); once created, save it as “Lab_1.qmd” within the “HSS8005_labs” folder</li>
</ol>
<p>You will work in each of these new documents in this lab to gain experience with them.</p>
</section><section id="data-types-and-structures" class="level2"><h2 class="anchored" data-anchor-id="data-types-and-structures">Data types and structures</h2>
<p>The basic elements of data in <code>R</code> are called <em>vectors</em>. The objects that we have in the Environment, the ones we created in Task 1 are simple numeric vectors of length 1. R has 6 basic data types that you should be aware of:</p>
<ul>
<li>character: a text string, e.g.&nbsp;“name”</li>
<li>numeric: a real or decimal number</li>
<li>integer: non-decimal number; often represented by a number followed by the letter “L”, e.g.&nbsp;5L</li>
<li>logical: TRUE or FALSE</li>
<li>complex: complex numbers with real and imaginary parts</li>
</ul>
<p>R provides several functions to examine features of vectors and other objects, for example:</p>
<ul>
<li>class() - what kind of object is it (high-level)?</li>
<li>typeof() - what is the object’s data type (low-level)?</li>
<li>length() - how long is it? What about two dimensional objects?</li>
<li>attributes() - does it have any metadata?</li>
</ul></section><section id="task-3-vector-operations-in-the-r-script" class="level2 task"><h2 class="anchored" data-anchor-id="task-3-vector-operations-in-the-r-script">Task 3: Vector operations in the R script</h2>
<p>Let’s learn a few vector operations. Type/copy the code below to the R script file we created earlier, and save it at the end for your records.</p>
<p>First, let’s use the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function to <strong>c</strong>oncatenate vector elements:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.2</span>, <span class="fl">6.2</span>, <span class="fl">1.2</span>, <span class="fl">5.5</span>, <span class="fl">20.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To run this line of code in an R script, <strong>place the cursor on the line</strong> you want to execute and <em>either</em> click on the small “Run” tab in the upper-right corner of the script’s task bar, <em>or</em> click Ctrl+Enter (on Windows PCs).</p>
<p>The vector called x that we just created appears in the Environment. We can examine some of its features:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">attributes</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>These tell us something about the characteristics of the object, but not much about its content (apart from the fact that it has a length of 5). Functions such as <code>min</code>, <code>max</code>, <code>range</code>, <code>mean</code>, <code>median</code>, <code>sum</code> or <code>summary</code> give us some summary statistics about the object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">min</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">range</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.2 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.04</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">summary</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.20    2.20    5.50    7.04    6.20   20.10 </code></pre>
</div>
</div>
<p>The <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> function lets us create a sequence from a starting point to an ending point. If you specify the <code>by</code> argument, you can skip values. For instance, if we wanted a vector of every 5th number between 0 and 100, we could write:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To print out the result in the console, we can simply type the name of the object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>numbers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   0   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90
[20]  95 100</code></pre>
</div>
</div>
<p>A shorthand version to get a sequence between two numbers counting by 1s is to use the <code>:</code> sign. For example, print out all the numbers between 200 and 250:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="dv">200</span><span class="sc">:</span><span class="dv">250</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218
[20] 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237
[39] 238 239 240 241 242 243 244 245 246 247 248 249 250</code></pre>
</div>
</div>
<p>To access a single element of a vector by position in the vector, use the square brackets <code>[]</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>x[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.2</code></pre>
</div>
</div>
<p>If you want to access more than one element of a vector, put a vector of the positions you want to access in the brackets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6.2 20.1</code></pre>
</div>
</div>
<p>If you try to access an element past the length of the vector, it will return a missing value <code>NA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>x[<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>If you accidentally subset a vector by <code>NA</code> (the missing value), you get the vector back with all its entries replaced by <code>NA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>x[<span class="cn">NA</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA NA NA NA NA</code></pre>
</div>
</div>
<p>Let’s say you want to modify one value in your vector. You can combine the square bracket subset <code>[]</code> with the assignment operator <code>&lt;-</code> to replace a particular value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.2  6.2  1.2  5.5 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>x[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fl">50.3</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.2  6.2 50.3  5.5 20.1</code></pre>
</div>
</div>
<p>You can replace multiple values at the same time by using a vector for subsetting:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.2  6.2 50.3  5.5 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.3</span>, <span class="dv">42</span>)</span>
<span id="cb72-2"><a href="#cb72-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1.3 42.0 50.3  5.5 20.1</code></pre>
</div>
</div>
<p>If the replacement vector (the right-hand side) is shorter than what you are assigning to (the left-hand side), the values will “recycle” or repeat as necessary:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fl">3.2</span></span>
<span id="cb74-2"><a href="#cb74-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3.2  3.2 50.3  5.5 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.2</span>, <span class="fl">2.4</span>)</span>
<span id="cb76-2"><a href="#cb76-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.2  2.4  1.2  2.4 20.1</code></pre>
</div>
</div>
<p>You can also create a vector of characters (words, letters, punctuation, etc):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>jedi <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Yoda"</span>, <span class="st">"Obi-Wan"</span>, <span class="st">"Luke"</span>, <span class="st">"Leia"</span>, <span class="st">"Rey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note for vectors, you cannot mix characters and numbers in the same vector. If you add a single character element, the whole vector gets converted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="do">### output is numeric</span></span>
<span id="cb79-2"><a href="#cb79-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.2  2.4  1.2  2.4 20.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="do">### output is now character</span></span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="fu">c</span>(x, <span class="st">"hey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1.2"  "2.4"  "1.2"  "2.4"  "20.1" "hey" </code></pre>
</div>
</div>
<p>Logical vectors are just vectors that only contain the special R values <code>TRUE</code> or <code>FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>logical <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb83-2"><a href="#cb83-2"></a>logical</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
</div>
</div>
<p>You could but never should shorten <code>TRUE</code> to <code>T</code> and <code>FALSE</code> to <code>F</code>. It’s easy for this shortening to go wrong so better just to spell out the full word. Also not that this is case-sensitive, and this will produce an error:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'true' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>True</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'True' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>false</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'false' not found</code></pre>
</div>
</div>
</section><section id="data-frames" class="level2"><h2 class="anchored" data-anchor-id="data-frames">Data frames</h2>
<p>It is useful to know about vectors, but we will use them primarily as part of larger <em>data frames</em>. Data frames are objects that contain several vectors of similar length. In a data frame each column is a <em>variable</em> and each row is a <em>case</em>. They look like spreadsheets containing data. There are several toy data frames built into R, and we can have a look at one to see how it looks like. For example, the <code>cars</code> data frame is built into R and so you can access it without loading any files. To get the dimensions, you can use <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code>, <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code>, and <code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">dim</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">nrow</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">ncol</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<p>We can also load the dataset into our Environment and look at it manually:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>mtcars <span class="ot">&lt;-</span> mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The new object has appeared in the Environment under a new section called Data. We can click on it and the dataset will open up in the Source pane. What do you think this dataset is about?</p>
<p>You can select each column/variable from the data frame use the <code>$</code>, turning it into a vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>mtcars<span class="sc">$</span>wt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 3.440 3.440 4.070
[13] 3.730 3.780 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520 3.435 3.840
[25] 3.845 1.935 2.140 1.513 3.170 2.770 3.570 2.780</code></pre>
</div>
</div>
<p>You can now treat this just like a vector, with the subsets and all.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>mtcars<span class="sc">$</span>wt[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.62</code></pre>
</div>
</div>
<p>We can subset to the first/last k rows of a data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">head</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="fu">tail</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                mpg cyl  disp  hp drat    wt qsec vs am gear carb
Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.7  0  1    5    2
Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1    5    2
Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1    5    4
Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1    5    6
Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1    5    8
Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.6  1  1    4    2</code></pre>
</div>
</div>
<p>There are various ways in which one can further subset and wrangle vectors and data frames using base R functions, but the <a href="https://tidyverse.tidyverse.org">tidyverse</a> and other user-written packages provide more functionality and ease of use. In this course, we will rely mostly on these.</p>
</section><section id="functions" class="level2"><h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p>We have already encountered some basic <em>functions</em> earlier. Most of the work in <code>R</code> is done using functions. It’s possible to <strong>create your own functions</strong>. This makes R extremely powerful and extendible. We’re not going to cover making your own functions in this course, but it’s important to be aware of this capability. There are plenty of good resources online for learning how to do this, including <a href="https://www.statmethods.net/management/userfunctions.html">this one</a>.</p>
<section id="advanced-user-exercise-leap-year-functions" class="level3 discuss"><h3 class="anchored" data-anchor-id="advanced-user-exercise-leap-year-functions">Advanced user exercise: leap year functions</h3>
<p>If you have more advanced knowledge of <code>R</code>, here’s and exercise for you. Suppose you want to write a function that lists all the leap years between two specified years. How would you go about writing it? What are the information that you need first? What are the steps that you would take to build up the function? There are several ways of achieving such a function, and you can find three options at the bottom of this worksheet. Work individually or in a small group. Compare your results to the options given at the end.</p>
</section></section><section id="packages" class="level2"><h2 class="anchored" data-anchor-id="packages">Packages</h2>
<p>Instead of programming your own functions in the <strong>R</strong> language, you can rely on functions written by other people and bundled within a package that performs some set task. There are a large number of reliable, tested and oft-used packages containing functions that are particularly useful for social scientists.</p>
<p>Some particularly useful packages: - the <code>tidyverse</code> bundle of packages, which includes the <code>dplyr</code> package (for data manipulation) and additional R packages for reading in (<code>readr</code>), transforming (<code>tidyr</code>) and visualizing (<code>ggplot2</code>) datasets. - to import datasets in non-native formats and to manage attached labels (a concept familiar from other statistical packages but foreign to <strong><em>R</em></strong>), load the <code>sjlabelled</code> package (an alternative to <code>haven</code> and <code>labelled</code>, which work in a similar way but provide less functionality) - the <code>sjmisc</code> package contains very useful functions for undertaking data transformations on labelled variables (recoding, grouping, missing values, etc); also has some useful tabulation functions - the <code>sjPlot</code> package contains functions for graphing and tabulating results from regression models</p>
<p>Packages are often available from the <em>Comprehensive R Archive Network</em> (CRAN) or private repositories such as <em>Bioconductor</em>, <em>GitHub</em> etc. Packages made available on CRAN can be installed using the command <code>install.packages("packagename")</code>. Once the package/library is installed (i.e.&nbsp;it is sitting somewhere on your computer), we then need to <em>load</em> it to the current R session using the command <code><a href="https://rdrr.io/r/base/library.html">library(packagename)</a></code>.</p>
<p>So using a package/library is a two-stage process. We:</p>
<ol type="1">
<li>
<strong>Install</strong> the package/library onto your computer (from the internet)</li>
<li>
<strong>Load</strong> the package/library into your current session using the library command.</li>
</ol>
<p>Let’s start by installing the ‘tidyverse’ package, and then load it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)  <span class="do">## this command installs packages from CRAN; note the quotation marks around the package name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can check the suite of packages that are loaded when you load the <code>Tidyverse</code> library using a command from the <code>tidyverse</code> itself:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="fu">tidyverse_packages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="discuss">
<p><strong>Question</strong></p>
<p>Why do you think we got an error message when we tried to run the above command?</p>
</div>
<p>Because <code>tidyverse_packages()</code> is itself a function from the <code>tidyverse</code>, in order to use that function we need not only to install the <code>tidyverse</code> but also to make its functions available. In other words, we did not yet <em>load</em> the <code>tidyverse</code> for use in our R session, we only just installed it on our computers.</p>
<p>If we don’t want to load a package that we have downloaded - because maybe we only want to use a single function once and we don’t want to burden our computer’s memory, we can state explicitly which package the function is from in the following way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>tidyverse<span class="sc">::</span><span class="fu">tidyverse_packages</span>()  <span class="co"># Here we state the package followed by two colons, then followed by the function we want</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>But in many cases we do want to use several functions at various points in an analysis session, so it is usually useful to <em>load</em> the entire package or set of packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can use functions from that package without having to explicitly state the name of the package. We can still state the name explicitly, and that may be useful for readers of our code to understand what package a function come from. Also, it may happen that different packages have similarly named functions, and if all those packages are loaded, then the functions from a package loaded later will override that in the package loaded earlier. <code>R</code> will note in a comment whether any functions from a package are <strong>masked</strong> by another, so it’s worth paying attention to the comments and warnings printed by <code>R</code> when we load packages.</p>
<p>There are also convenience tools - e.g.&nbsp;the <code>pacman</code> package - that make it easier to load several packages at once, while at the same time downloading the package if it has not yet been downloaded on our computer.</p>
<p>For example, we can download a number of packages with the command below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="co"># Install 'pacman' if not yet installed:</span></span>
<span id="cb110-2"><a href="#cb110-2"></a></span>
<span id="cb110-3"><a href="#cb110-3"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: pacman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="co"># Then load/install other packages using 'pacman':</span></span>
<span id="cb112-2"><a href="#cb112-2"></a></span>
<span id="cb112-3"><a href="#cb112-3"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb112-4"><a href="#cb112-4"></a>  tidyverse,    <span class="co"># general data management tools ('dplyr', etc.)</span></span>
<span id="cb112-5"><a href="#cb112-5"></a>  sjlabelled,   <span class="co"># data import from other software (alternative to 'haven') and labels management</span></span>
<span id="cb112-6"><a href="#cb112-6"></a>  sjmisc        <span class="co"># data transformation on variables (recoding,grouping, missing values, etc)</span></span>
<span id="cb112-7"><a href="#cb112-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="about-the-tidyverse" class="level2"><h2 class="anchored" data-anchor-id="about-the-tidyverse">About the <code>Tidyverse</code>
</h2>
<section id="data-frames-and-tibbles" class="level3"><h3 class="anchored" data-anchor-id="data-frames-and-tibbles">Data frames and ‘tibbles’</h3>
<p>The <code>Tidyverse</code> is built around the basic concept that data in a table should have one observation per row, one variable per column, and only one value per cell. Once data is in this ‘tidy’ format, it can be transformed, visualized and modelled for an analysis.</p>
<p>When using functions in the <code>Tidyverse</code> ecosystem, most data is returned as a <code>tibble</code> object. <code>Tibbles</code> are very similar to the <code>data.frames</code> (which are the basic types of object storing datasets in base <strong><em>R</em></strong>) and it is perfectly fine to use <code>Tidyverse</code> functions on a <code>data.frame</code> object. Just be aware that in most cases, the <code>Tidyverse</code> function will transform your data into a <code>tibble.</code> If you are unobservant, you won’t even notice a difference. However, there are a few differences between the two data types, most of which are just designed to make your life easier. For more info, check <strong>R4DS</strong>.</p>
</section><section id="selected-dplyr-functions" class="level3"><h3 class="anchored" data-anchor-id="selected-dplyr-functions">Selected <code>dplyr</code> functions</h3>
<p>The <code>dplyr</code> package is designed to make it easier to manipulate flat (2-D) data (i.e.&nbsp;the type of datasets we are most likely to use, which are laid out as in a standard spreadsheet, with rows referring to cases (observations; respondents) and columns referring to variables. <code>dplyr</code> provides simple “verbs”, functions that correspond to the most common data manipulation tasks, to help you translate your thoughts into code. Here are some of the most common functions in <code>dplyr</code>:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> chooses rows based on column values.</li>
<li>
<code>arrange()</code> changes the order of the rows.</li>
<li>
<code>select()</code> changes whether or not a column is included.</li>
<li>
<code>rename()</code> changes the name of columns.</li>
<li>
<code>mutate()</code>/<code>transmute()</code> changes the values of columns and creates new columns (variables)</li>
<li>
<code>summarise()</code> compute statistical summaries (e.g., computing the mean or the sum)</li>
<li>
<code>group_by()</code> group data into rows with the same values</li>
<li>
<code>ungroup()</code> remove grouping information from data frame.</li>
<li>
<code>distinct()</code> remove duplicate rows.</li>
</ul>
<p>All these functions work similarly as follows:</p>
<ul>
<li>The first argument is a data frame/tibble</li>
<li>The subsequent arguments are comma separated list of unquoted variable names and the specification of what you want to do</li>
<li>The result is a new data frame</li>
</ul>
<p>For more info, check <a href="https://datacarpentry.org/r-socialsci/03-dplyr-tidyr/index.html">R for Social Scientists</a></p>
</section><section id="the-forward-pipe-workflow" class="level3"><h3 class="anchored" data-anchor-id="the-forward-pipe-workflow">The forward-pipe (<code>%&gt;%</code>/<code>|&gt;</code>) workflow</h3>
<p>All of the <code>dplyr</code> functions take a data frame or tibble as the first argument. Rather than forcing the user to either save intermediate objects or nest functions, <code>dplyr</code> provides the forward-pipe operator <code>%&gt;%</code> from the <code>magrittr</code> package. This operator allows us to combine multiple operations into a single sequential chain of actions. As of <code>R 4.1.0</code> there is also a <a href="https://www.r-bloggers.com/2021/05/the-new-r-pipe/">native pipe operator</a> in <strong><em>R</em></strong> (|&gt;), and in RStudio one can set the shortcut to paste the new pipe operator instead (as we have done at the beginning of the lab). Going forward, we’ll use this version of the pipe operator for simplicity, but it’s likely that you will encounter the older version of the operator too in various scripts.</p>
<p>Let’s start with a hypothetical example. Say you would like to perform a sequence of operations on data frame <code>x</code> using hypothetical functions <code>f()</code>, <code>g()</code>, and <code>h()</code>:</p>
<ol type="1">
<li>Take x <em>then</em>
</li>
<li>Use x as an input to a function f() <em>then</em>
</li>
<li>Use the output of f(x) as an input to a function g() <em>then</em>
</li>
<li>Use the output of g(f(x)) as an input to a function h()</li>
</ol>
<p>One way to achieve this sequence of operations is by using nesting parentheses as follows:</p>
<pre><code>h(g(f(x)))</code></pre>
<p>This code isn’t so hard to read since we are applying only three functions: <code>f()</code>, then <code>g()</code>, then <code>h()</code> and each of the functions is short in its name. Further, each of these functions also only has one argument. However, you can imagine that this will get progressively harder to read as the number of functions applied in your sequence increases and the arguments in each function increase as well. This is where the pipe operator <code>|&gt;</code> comes in handy. <code>|&gt;</code> takes the output of one function and then “pipes” it to be the input of the next function. Furthermore, a helpful trick is to read <code>|&gt;</code> as “then” or “and then.” For example, you can obtain the same output as the hypothetical sequence of functions as follows:</p>
<pre><code>x |&gt; 
  f() |&gt; 
  g() |&gt; 
  h()</code></pre>
<p>You would read this sequence as:</p>
<ol type="1">
<li>Take x <em>then</em>
</li>
<li>Use this output as the input to the next function f() <em>then</em>
</li>
<li>Use this output as the input to the next function g() <em>then</em>
</li>
<li>Use this output as the input to the next function h()</li>
</ol>
<p>So while both approaches achieve the same goal, the latter is much more human-readable because you can clearly read the sequence of operations line-by-line. Instead of typing out the three strange characters of the operator, one can use the keyboard shortcut <em>Ctrl + Shift + M</em> (Windows) or <em>Cmd + Shift + M</em> (MacOS) to paste the operator.</p>
</section></section><section id="task-4-data-frame-operations-in-a-quarto-document" class="level2 task"><h2 class="anchored" data-anchor-id="task-4-data-frame-operations-in-a-quarto-document">Task 4: Data frame operations in a Quarto document</h2>
<p>In this task, let’s start using the other document we created, the <strong>.qmd</strong> file. This file format allows you to combine both longer written text (such as detailed descriptions of your data analysis process or the main body of a report or journal article) with code chunks. To get you started using this file format, read <a href="https://tellingstorieswithdata.com/03-workflow.html#quarto">Chapter 3.2. in <strong>TSD</strong></a>. Below we will focus only on the code chunks.</p>
<p>Compared to what you have done in the R script, in the main Quarto document a # refers to a heading level rather than a comment. If you want to include a code chunk, you can click on the <strong>+C</strong> tab in the upper-right corner of the .qmd document’s toolbar, or use the keyboard shortcut <strong>Ctrl</strong>+<strong>Alt</strong>+<strong>i</strong>. In the code chunk you would write in the same way as you did in the R script (they are basically mini-scripts). Within a code-chunk, therefore, the # still refers to a comment.</p>
<p>To execute a command withing a code chunk, you can either run each line/selection separately using Ctrl+Enter as in the R script, or you can run the entire content of the chunk with the green right-pointing <em>triangle-arrow in the upper-right corner of the chunk</em>.</p>
<p>Let’s continue doing some operations on the <em>mtcars</em> dataset we looked at earlier, this time using some useful <a href="https://tidyverse.tidyverse.org">tidyverse</a> functions.</p>
<p>Let’s <strong>subset</strong> the data frame by selecting certain rows or columns. In tidyverse, you can do this with the <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> function for selecting rows and the <code>select()</code> function for selecting columns. Here we pipe the selections into <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> to show the first few rows. You could also use the <code><a href="https://dplyr.tidyverse.org/reference/slice.html">dplyr::slice_head</a></code> function</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb115-2"><a href="#cb115-2"></a>  <span class="fu">select</span>(mpg, wt) <span class="sc">|&gt;</span></span>
<span id="cb115-3"><a href="#cb115-3"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg    wt
Mazda RX4         21.0 2.620
Mazda RX4 Wag     21.0 2.875
Datsun 710        22.8 2.320
Hornet 4 Drive    21.4 3.215
Hornet Sportabout 18.7 3.440
Valiant           18.1 3.460</code></pre>
</div>
</div>
<p>To select the cars with eight cylinders:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb117-2"><a href="#cb117-2"></a>  <span class="fu">filter</span>(cyl <span class="sc">==</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8</code></pre>
</div>
</div>
<p>We can use the <code>slice()</code> function. For example, to get the 5th through 10th rows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb119-2"><a href="#cb119-2"></a>  <span class="fu">slice</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl  disp  hp drat   wt  qsec vs am gear carb
Hornet Sportabout 18.7   8 360.0 175 3.15 3.44 17.02  0  0    3    2
Valiant           18.1   6 225.0 105 2.76 3.46 20.22  1  0    3    1
Duster 360        14.3   8 360.0 245 3.21 3.57 15.84  0  0    3    4
Merc 240D         24.4   4 146.7  62 3.69 3.19 20.00  1  0    4    2
Merc 230          22.8   4 140.8  95 3.92 3.15 22.90  1  0    4    2
Merc 280          19.2   6 167.6 123 3.92 3.44 18.30  1  0    4    4</code></pre>
</div>
</div>
<p>If we pass a vector of integers to the <code>select</code> function, we will get the variables corresponding to those column positions. So to get the first through third columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb121-2"><a href="#cb121-2"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb121-3"><a href="#cb121-3"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl disp
Mazda RX4         21.0   6  160
Mazda RX4 Wag     21.0   6  160
Datsun 710        22.8   4  108
Hornet 4 Drive    21.4   6  258
Hornet Sportabout 18.7   8  360
Valiant           18.1   6  225</code></pre>
</div>
</div>
<p>If you call <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> a data frame, it produces applies the vector version of the summary command to each column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="fu">summary</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      mpg             cyl             disp             hp       
 Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  
 1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  
 Median :19.20   Median :6.000   Median :196.3   Median :123.0  
 Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  
 3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  
 Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  
      drat             wt             qsec             vs        
 Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  
 1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  
 Median :3.695   Median :3.325   Median :17.71   Median :0.0000  
 Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  
 3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  
 Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  
       am              gear            carb      
 Min.   :0.0000   Min.   :3.000   Min.   :1.000  
 1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
 Median :0.0000   Median :4.000   Median :2.000  
 Mean   :0.4062   Mean   :3.688   Mean   :2.812  
 3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
 Max.   :1.0000   Max.   :5.000   Max.   :8.000  </code></pre>
</div>
</div>
</section><p>These few tasks should be enough to get you started with R and RStudio. If you haven’t yet done so, complete the <a href="https://datacarpentry.org/r-socialsci/"><strong>R for Social Scientists</strong></a> online training too sometime over the next week. From next week we will begin working actively with real data and address specific data management challenges that arise from there.</p>
<p>Those of you who have worked on the advanced user exercise can check some optional solutions below.</p>
<section id="solutions-to-the-advanced-exercise-leap-year-functions" class="level2"><h2 class="anchored" data-anchor-id="solutions-to-the-advanced-exercise-leap-year-functions">Solutions to the advanced exercise: leap year functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>leap_year_v1 <span class="ot">&lt;-</span> <span class="cf">function</span>(year1,year2) {</span>
<span id="cb125-2"><a href="#cb125-2"></a>    year <span class="ot">&lt;-</span> year1<span class="sc">:</span>year2</span>
<span id="cb125-3"><a href="#cb125-3"></a>    year[(year<span class="sc">%%</span><span class="dv">4</span><span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> year<span class="sc">%%</span><span class="dv">100</span><span class="sc">!=</span><span class="dv">0</span>) <span class="sc">|</span> year<span class="sc">%%</span><span class="dv">400</span><span class="sc">==</span><span class="dv">0</span>]</span>
<span id="cb125-4"><a href="#cb125-4"></a>}</span>
<span id="cb125-5"><a href="#cb125-5"></a></span>
<span id="cb125-6"><a href="#cb125-6"></a></span>
<span id="cb125-7"><a href="#cb125-7"></a>leap_year_v2 <span class="ot">&lt;-</span> <span class="cf">function</span>(year1,year2){</span>
<span id="cb125-8"><a href="#cb125-8"></a>    vector<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb125-9"><a href="#cb125-9"></a>    <span class="cf">for</span>(year <span class="cf">in</span> year1<span class="sc">:</span>year2){</span>
<span id="cb125-10"><a href="#cb125-10"></a>        <span class="cf">if</span>((year <span class="sc">%%</span> <span class="dv">4</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">&amp;</span> (year <span class="sc">%%</span> <span class="dv">100</span> <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|</span> (year  <span class="sc">%%</span> <span class="dv">400</span> <span class="sc">==</span> <span class="dv">0</span>)){</span>
<span id="cb125-11"><a href="#cb125-11"></a>            vector<span class="ot">&lt;-</span><span class="fu">c</span>(vector,year)</span>
<span id="cb125-12"><a href="#cb125-12"></a>        }}</span>
<span id="cb125-13"><a href="#cb125-13"></a>    <span class="fu">return</span>(vector)}</span>
<span id="cb125-14"><a href="#cb125-14"></a></span>
<span id="cb125-15"><a href="#cb125-15"></a></span>
<span id="cb125-16"><a href="#cb125-16"></a>leap_year_v3 <span class="ot">&lt;-</span> <span class="cf">function</span>(year1,year2){</span>
<span id="cb125-17"><a href="#cb125-17"></a>    <span class="co">#make a vector of all years</span></span>
<span id="cb125-18"><a href="#cb125-18"></a>    year<span class="ot">&lt;-</span>year1<span class="sc">:</span>year2</span>
<span id="cb125-19"><a href="#cb125-19"></a>    <span class="co">#find the leap years (TRUE/FALSE)</span></span>
<span id="cb125-20"><a href="#cb125-20"></a>    leaps<span class="ot">&lt;-</span><span class="fu">ifelse</span>((year <span class="sc">%%</span> <span class="dv">4</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">&amp;</span> (year <span class="sc">%%</span> <span class="dv">100</span> <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|</span> (year  <span class="sc">%%</span> <span class="dv">400</span> <span class="sc">==</span> <span class="dv">0</span>), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb125-21"><a href="#cb125-21"></a>    year[leaps] <span class="co">#return the leap years</span></span>
<span id="cb125-22"><a href="#cb125-22"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><nav class="page-navigation column-page-right"><div class="nav-page nav-page-previous">
      <a href="../../materials/slides-frame/slides-frame_w01.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Presentation</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../materials/handouts/handouts-frame_w01.html" class="pagination-link">
        <span class="nav-page-text">Handout</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>